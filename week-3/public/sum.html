<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Sum</title>
    <script>
        /*** XMLHttpRequest method ***/
        function calculate() {
            let userInput = document.querySelector("#userInput").value;
            let result = document.querySelector("#content");
            let xhr = new XMLHttpRequest;
            xhr.open("GET", `http://localhost:3000/getData?number=${userInput}`);
            xhr.send();
            xhr.onreadystatechange = function () {
                if (xhr.readyState === XMLHttpRequest.DONE) {
                    if (xhr.status === 200) {
                        result.innerHTML = xhr.responseText
                    } else {
                        result.innerHTML = "Request failed!"
                    }
                }
            }
        }

        /*** Fetch method ***/
        // let src = "http://localhost:3000/getData?number=10";
        // fetch(src).then((res) => {
        //     console.log(res);
        //     return res.text();
        // });
    </script>
</head>

<body onload="calculate();">
    <h1>Hello AJAX</h1>
    <p id="content"></p>
    <input type="text" id="userInput" value="10">
    <input type="button" value="calculate!" onclick="calculate(userInput)">

</body>

</html>